---
title: "04_describe"
author: "Group12"
format: html
editor: visual
---

## Clear environment

```{r}
# | echo: true
# | eval: true

rm(list = ls())
```

## Load libraries

```{r}
# | echo: true
# | eval: true

library("tidyverse")
library(RColorBrewer)
library(ggplot2)
```

## Load data

```{r}
# | echo: true
# | eval: true

#Load the file
body_measurements <- read_tsv(file = "../data/PCOS_body_measurements_aug.tsv")
blood_measurements <- read_tsv(file = "../data/PCOS_blood_measurements_aug.tsv")
PCOS <- read_tsv(file = "../data/PCOS_merged.tsv")

```

## Data statistics

Checking dimensions of metadata

```{r}
# | echo: true
# | eval: true

# cheking the dimensions of the body measurements
body_measurements_dim <- body_measurements |>
  dim() |>
  tibble()|>
  rename("Body measurments dimensions" = "dim(body_measurements)")|>
  print()

# cheking the dimensions of the blood measurements
blood_measurements_dim <- blood_measurements |>
  dim() |>
  tibble()|>
  rename("Blood measurments dimensions" = "dim(blood_measurements)")|>
  print()
  
# cheking the dimensions of the blood measurements
PCOS_dim <- PCOS |>
  dim() |>
  tibble()|>
  rename("PCOS dimensions" = "dim(PCOS)")|>
  print()


```

Checking column names and patients with and without PCOS diagnosis

```{r}
# | echo: true
# | eval: true

# which column names exist in the merged data set:
PCOS |> 
  colnames()

# counting patients with (yes) and without (no PCOS diagnosis)
PCOS |> 
  count(PCOS_diagnosis)


```

There are 364 patients who have not been diagnosed with PCOS and 177 who have been diagnosed with PCOS.

## Plot distributions of body values

```{r}
# | echo: true
# | eval: true


#Creating bar chart of BMI distribution stratified on PCOS diagnosis
BMI_bar <- body_measurements |> 
  ggplot(mapping = aes(x = BMI_class,
                       fill = PCOS_diagnosis)) +
  geom_bar(position = position_dodge(preserve = "single"),
           alpha = 0.45,
           color = "black") +
  labs(x = "BMI groups", 
       y = "Count",
       title = "Barchart over BMI groups stratified PCOS diagnosis",
       fill = "PCOS diagnosis")

#Saving the plot as a picture
ggsave(BMI_bar,
       filename = "../results/04_BMI_bar.png",
       device = "png",
       height = 10,
       width = 20,
       units = "cm")

```

```{r}
# | echo: true
# | eval: true


```

```{r}
# | echo: true
# | eval: true

```

## Last header if needed

```{r}
# | echo: true
# | eval: true


```
